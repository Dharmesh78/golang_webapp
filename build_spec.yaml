version: 0.2
env:
  variables:
    GO_VERSION: 1.16.5
phases:
  install:
    commands:
      - echo "download started"
      - wget https://dl.google.com/go/go1.16.5.linux-amd64.tar.gz
      - echo "download finished"
      - tar -C /usr/local -xvzf go1.16.5.linux-amd64.tar.gz
      - export PATH="/usr/local/go/bin:$PATH"
      - export GOPATH="$HOME/go"
      - export PATH="$GOPATH/bin:$PATH"
      
  pre_build:
    commands:
      - echo “Start pre_build…”
  build:
    commands:
      - echo “Start build…”
      - go build -o golangapp

artifacts:
  files:
    - golangapp
    - buildspec.yml
